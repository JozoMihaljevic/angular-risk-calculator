<div class="top-content">
  <div class="container">
    <div class="row">
      <div class="col-sm-8 col-sm-offset-2 text">
        <h1>Kalkulator <strong>rizika</strong> za obolijevanje od kardiovaskularnih bolesti i dijabetesa tipa 2</h1>
          <div class="description">
            <p>
             Ovdje možete dobiti informacije o Vašem<strong> riziku </strong>i sklonosti prema nekim bolestima. <br>
             Jednostavno unesite<strong> Vaše podatke</strong> i kalkulator će Vam dati preporuke!
            </p>
          </div>
      </div>
    </div>
  </div>
</div>
<div class="container">
  <div class="row">
    <div class="col-sm-10 col-sm-offset-1 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3 form-box">
      <form role="form" action="" method="post" class="f1">
        <div [hidden]="submitted">
          <h3>Osobni podaci:</h3>
          {{ diagnostic }}
          <form (ngSubmit)="onSubmit()" #heroForm="ngForm">
            TODO: remove this: {{ osobniPodaci.spol }}
            {{ osobniPodaci.dob }},
            {{ osobniPodaci.visina }},
            {{ osobniPodaci.masa }},
            {{ osobniPodaci.struk }},
            {{ osobniPodaci.bokovi }}
            {{ bodyFatPostotak }}

            <div class="f1">
              <div class="form-group">
                <label for="spol">Spol</label>
                <select [(ngModel)]="osobniPodaci.spol" class="form-control" id="spol" name="spol" required *ngIf="spolovi">
                  <option *ngFor="let spol of spolovi" [value]="spol.key">{{ spol.name }}</option>
                </select>
              </div>

              <div class="form-group">
                <label for="dob">Dob</label>
                <input type="text"
                  class="form-control"
                  id="dob"
                  name="dob"
                  required
                  appSamobrojevi
                  #dob="ngModel"
                  [(ngModel)]="osobniPodaci.dob"
                  (ngModelChange)="racunajBmi()"
                >
              </div>
              <div [hidden]="dob.valid || dob.pristine"
                class="alert alert-danger">
                Obavezno unijeti dob!
              </div>

              <div class="form-group">
                <label for="visina">Visina</label>
                <input type="text"
                  class="form-control"
                  id="visina"
                  name="visina"
                  required
                  appSamobrojevi
                  [(ngModel)]="osobniPodaci.visina"
                  #visina="ngModel"
                  (ngModelChange)="racunajBmi()"
                >
              </div>
              <div [hidden]="visina.valid || visina.pristine"
                class="alert alert-danger">
                Obavezno unijeti visinu!
              </div>

              <div class="form-group">
                <label for="masa">Masa</label>
                <input type="text"
                  class="form-control"
                  id="masa"
                  name="masa"
                  required
                  appSamobrojevi
                  [(ngModel)]="osobniPodaci.masa"
                  #masa="ngModel"
                  (ngModelChange)="racunajBmi()"
                >
              </div>
              <div [hidden]="masa.valid || masa.pristine"
                class="alert alert-danger">
                Obavezno unijeti masu!
              </div>

              <div class="form-group">
                <label for="struk">Struk</label>
                <input type="text"
                class="form-control"
                id="struk"
                name="struk"
                appSamobrojevi
                [(ngModel)]="osobniPodaci.struk"
                #struk="ngModel"
                (ngModelChange)="racunajWHRstrukbokovi()">
              </div>

              <div class="form-group">
                <label for="bokovi">Bokovi</label>
                <input type="text"
                class="form-control"
                id="bokovi"
                name="bokovi"
                appSamobrojevi
                [(ngModel)]="osobniPodaci.bokovi"
                #bokovi="ngModel"
                (ngModelChange)="racunajWHRstrukvisina()">
              </div>
            </div>

            <h3>Biokemijski i imunokemijski parametri:</h3>
            <div class="f1">
              <div class="form-group">
                <label for="glukoza">Glukoza</label>
                <input type="text"
                class="form-control"
                id="glukoza"
                name="glukoza"
                required
                appSamobrojevi
                #glukoza="ngModel"
                [(ngModel)]="krvnaSlika.glukoza"
                (ngModelChange)="racunajHomaIr()"
                (ngModelChange)="racunajHomaBeta()">
              </div>
              <div [hidden]="glukoza.valid || glukoza.pristine"
                class="alert alert-danger">
                Obavezno unijeti glukozu!
              </div>

              <div class="form-group">
                <label for="inzulin">Inzulin</label>
                <input type="text"
                class="form-control"
                id="inzulin"
                name="inzulin"
                appSamobrojevi
                [(ngModel)]="krvnaSlika.inzulin"
                #inzulin="ngModel"
                (ngModelChange)="racunajHomaIr()"
                (ngModelChange)="racunajHomaBeta()">
              </div>

              <div class="form-group">
                <label for="ukupnikol">Ukupni kolesterol</label>
                <input  type="text"
                class="form-control"
                id="ukupnikol"
                name="ukupnikol"
                required
                appSamobrojevi
                [(ngModel)]="krvnaSlika.ukupnikol"
                #ukupnikol="ngModel">
              </div>
              <div [hidden]="ukupnikol.valid || ukupnikol.pristine"
                class="alert alert-danger">
                Obavezno unijeti ukupni kolesterol!
              </div>

              <div class="form-group">
                <label for="ldlkol">LDL kolesterol</label>
                <input type="text"
                class="form-control"
                id="ldlkol"
                name="ldlkol"
                required
                appSamobrojevi
                [(ngModel)]="krvnaSlika.ldlkol"
                #ldlkol="ngModel">
              </div>
              <div [hidden]="ldlkol.valid || ldlkol.pristine"
                class="alert alert-danger">
                Obavezno unijeti LDL kolesterol!
              </div>

              <div class="form-group">
                <label for="hdlkol">HDL kolesterol</label>
                <input type="text"
                class="form-control"
                id="hdlkol"
                name="hdlkol"
                required
                appSamobrojevi
                [(ngModel)]="krvnaSlika.hdlkol"
                #hdlkol="ngModel">
              </div>
              <div [hidden]="hdlkol.valid || hdlkol.pristine"
                class="alert alert-danger">
                Obavezno unijeti HDL kolesterol!
              </div>

              <div class="form-group">
                <label for="trigliceridi">Trigliceridi</label>
                <input type="text"
                class="form-control"
                id="trigliceridi"
                name="trigliceridi"
                required
                appSamobrojevi
                [(ngModel)]="krvnaSlika.trigliceridi"
                #trigliceridi="ngModel">
              </div>
              <div [hidden]="trigliceridi.valid || trigliceridi.pristine"
                class="alert alert-danger">
                Obavezno unijeti trigliceride!
              </div>
            </div>

            <button type="button" class="btn btn-primary" (click)="ponistiUnos(); heroForm.reset()">Poništi</button>
            <button type="submit" class="btn btn-success" [disabled]="!heroForm.form.valid"
            (click)="racunajPrikazi()"
            >Dalje</button>
          </form>
        </div>

        <div [hidden]="!submitted">
          <h2>Vaši rezultati:</h2>
            <div class="row">
              <div class="col-xs-4">Spol</div>
              <div class="col-xs-8  pull-left">{{ osobniPodaci.spol }}</div>
            </div>
            <div class="row">
              <div class="col-xs-4">Dob</div>
              <div class="col-xs-8  pull-left">{{ osobniPodaci.dob }}</div>
            </div>
            <div class="row">
              <div class="col-xs-4">Visina</div>
              <div class="col-xs-8  pull-left">{{ osobniPodaci.visina }}</div>
            </div>
            <div class="row">
              <div class="col-xs-4">Masa</div>
              <div class="col-xs-8  pull-left">{{ osobniPodaci.masa }}</div>
            </div>
            <div class="row">
              <div class="col-xs-4">Struk</div>
              <div class="col-xs-8  pull-left">{{ osobniPodaci.struk }}</div>
            </div>
            <div class="row">
              <div class="col-xs-4">Bokovi</div>
              <div class="col-xs-8  pull-left">{{ osobniPodaci.bokovi }}</div>
            </div>
            <div class="row">
              <div class="col-xs-4">Glukoza</div>
              <div class="col-xs-8  pull-left">{{ krvnaSlika.glukoza }}</div>
            </div>
            <div class="row">
              <div class="col-xs-4">Inzulin</div>
              <div class="col-xs-8  pull-left">{{ krvnaSlika.inzulin }}</div>
            </div>
            <div class="row">
              <div class="col-xs-4">Ukupni kolesterol</div>
              <div class="col-xs-8  pull-left">{{ krvnaSlika.ukupnikol }}</div>
            </div>
            <div class="row">
              <div class="col-xs-4">LDL kolesterol</div>
              <div class="col-xs-8  pull-left">{{ krvnaSlika.ldlkol }}</div>
            </div>
            <div class="row">
              <div class="col-xs-4">HDL kolesterol</div>
              <div class="col-xs-8  pull-left">{{ krvnaSlika.hdlkol }}</div>
            </div>
            <div class="row">
              <div class="col-xs-4">Trigliceridi</div>
              <div class="col-xs-8  pull-left">{{ krvnaSlika.trigliceridi }}</div>
            </div>

            <div class="row" *ngIf="bmi">
              <div class="col-xs-4">Vaš BMI</div>
              <div class="col-xs-8  pull-left">{{ bmi.toFixed(2) }}</div>
            </div>
            <div class="row" *ngIf="preporucenaTjelesnaMasa">
              <div class="col-xs-4">Vaša Preporučena TM</div>
              <div class="col-xs-8  pull-left">{{ preporucenaTjelesnaMasa }}kg</div>
            </div>
            <div class="row">
              <div class="col-xs-4">BMI opis:</div>
              <div class="col-xs-8  pull-left">{{ bmiPoruka }}</div>
            </div>
            <div class="row" *ngIf="bodyFatPostotak">
              <div class="col-xs-4">Vaš BFP</div>
              <div class="col-xs-8  pull-left">{{ bodyFatPostotak }}%</div>
            </div>
            <p>Postotak tjelesne masti izračunat na temelju dobi, spola, visine i težine predstavlja jedan od parametara za procjenu rizika od nastanka kardiovaskularnih bolesti.</p>
            <div class="row">
              <div class="col-xs-4">BodyFatPostotak poruka:</div>
              <div class="col-xs-8  pull-left">{{ bodyFatPostotakPoruka }}</div>
            </div>
            <div class="row" *ngIf="whr">
              <div class="col-xs-4">Vaš WHR</div>
              <div class="col-xs-8  pull-left">{{ whr.toFixed(2) }}</div>
            </div>
            <div class="row">
              <div class="col-xs-4">WHR poruka</div>
              <div class="col-xs-8  pull-left">{{ whrPoruka }}</div>
            </div>
            <div class="row" *ngIf="whr2">
              <div class="col-xs-4">Vaš WHR2</div>
              <div class="col-xs-8  pull-left">{{ whr2.toFixed(2) }}</div>
            </div>
            <p>HOMA – IR je pokazatelj osjetljivosti stanica na djelovanje inzulina te marker inzulinske
              rezistencije, a HOMA – β je marker koji daje uvid u aktivnost beta – Langerhansonovih otočića
              odgovornih za proizvodnju inzulina u gušterači.
              <br>Ova dva parametra se računaju različitim omjerima
              glukoze i inzulina i predstavljaju jasan pokazatelj nastanka dijabetesa tipa 2 i do 10 godina prije
              pojave prvih simptoma i bolesti.</p>
            <div class="row" *ngIf="homaIr">
              <div class="col-xs-4">Homa IR</div>
              <div class="col-xs-8  pull-left">{{ homaIr.toFixed(2) }}</div>
            </div>
            <div class="row">
              <div class="col-xs-4">Homa IR poruka</div>
              <div class="col-xs-8  pull-left">{{ homaIrPoruka }}</div>
            </div>
            <div class="row" *ngIf="homaBeta">
              <div class="col-xs-4">Homa Beta</div>
              <div class="col-xs-8  pull-left">{{ homaBeta.toFixed(2) }}</div>
            </div>
            <div class="row">
              <div class="col-xs-4">Homa Beta poruka</div>
              <div class="col-xs-8  pull-left">{{ homaBetaPoruka }}</div>
            </div>
            <div class="row">
              <div class="col-xs-4">Glukoza poruka</div>
              <div class="col-xs-8  pull-left">{{ glukozaPoruka }}</div>
            </div>
            <div class="row">
              <div class="col-xs-4">Ukupni kolesterol poruka</div>
              <div class="col-xs-8  pull-left">{{ ukupniKolesterolPoruka }}</div>
            </div>
            <div class="row">
              <div class="col-xs-4">LDL kolesterol poruka</div>
              <div class="col-xs-8  pull-left">{{ ldlKolesterolPoruka }}</div>
            </div>
            <div class="row">
              <div class="col-xs-4">HDL kolesterol poruka</div>
              <div class="col-xs-8  pull-left">{{ hdlKolesterolPoruka }}</div>
            </div>
            <div class="row">
              <div class="col-xs-4">Trigliceridi poruka</div>
              <div class="col-xs-8  pull-left">{{ trigliceridiPoruka }}</div>
            </div>
            <div class="row">
              <div class="col-xs-4">Rizik od KKS</div>
              <div class="col-xs-8  pull-left">{{ rizikKks }}</div>
            </div>
            <div class="row">
              <div class="col-xs-4">Rizik Homa</div>
              <div class="col-xs-8  pull-left">{{ rizikHoma }}</div>
            </div>
            <div class="row">
              <div class="col-xs-4">Rizik WHR</div>
              <div class="col-xs-8  pull-left">{{ rizikWHR }}</div>
            </div>
            <div class="row">
              <div class="col-xs-4">Rizik BMI & BFP</div>
              <div class="col-xs-8  pull-left">{{ rizikBMI }}</div>
            </div>
            <div class="row">
              <div class="col-xs-4">Ukupni rizik</div>
              <div class="col-xs-8  pull-left">{{ rizikUkupni }}</div>
            </div>
            <div class="row">
              <div class="col-xs-4">Ukupni rizik (%)</div>
              <div class="col-xs-8  pull-left">{{ rizikUkupniPostotak }}%</div>
            </div>
            <div class="row">
              <div class="col-xs-12">Ukupni rizik poruka</div>
              <div class="col-xs-12  pull-left">{{ rizikUkupniPoruka }}</div>
            </div>

            <br>
            <button class="btn btn-primary" (click)="submitted=false">Natrag</button>
        </div>
      </form>
    </div>
  </div>
</div>