<div class="container">
  <div class="row">
    <div class="col-sm-10 col-sm-offset-1 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3 form-box">
      <form role="form" action="" method="post" class="f1">
        <div [hidden]="submitted">
          <h2>Osobni podaci:</h2>
          {{ diagnostic }}
          <form (ngSubmit)="onSubmit()" #heroForm="ngForm">
            TODO: remove this: {{ osobniPodaci.spol }}
            {{ osobniPodaci.dob }},
            {{ osobniPodaci.visina }},
            {{ osobniPodaci.masa }},
            {{ osobniPodaci.struk }},
            {{ osobniPodaci.bokovi }}

            <div class="f1">
              <div class="form-group">
                <label for="spol">Spol</label>
                <select [(ngModel)]="osobniPodaci.spol" class="form-control" id="spol" name="spol" required *ngIf="spolovi">
                  <option *ngFor="let spol of spolovi" [value]="spol.key">{{ spol.name }}</option>
                </select>
              </div>

              <div class="form-group">
                <label for="dob">Dob</label>
                <input type="text"
                  class="form-control"
                  id="dob"
                  name="dob"
                  required
                  #dob="ngModel"
                  [(ngModel)]="osobniPodaci.dob"
                  (ngModelChange)="racunajBmi()"
                >
              </div>
              <div [hidden]="dob.valid || dob.pristine"
                class="alert alert-danger">
                Obavezno unijeti dob!
              </div>

              <div class="form-group">
                <label for="visina">Visina</label>
                <input type="text"
                  class="form-control"
                  id="visina"
                  name="visina"
                  required
                  [(ngModel)]="osobniPodaci.visina"
                  #visina="ngModel"
                  (ngModelChange)="racunajBmi()"
                >
              </div>
              <div [hidden]="visina.valid || visina.pristine"
                class="alert alert-danger">
                Obavezno unijeti visinu!
              </div>

              <div class="form-group">
                <label for="masa">Masa</label>
                <input type="text"
                  class="form-control"
                  id="masa"
                  name="masa"
                  required
                  [(ngModel)]="osobniPodaci.masa"
                  #masa="ngModel"
                  (ngModelChange)="racunajBmi()"
                >
              </div>
              <div [hidden]="masa.valid || masa.pristine"
                class="alert alert-danger">
                Obavezno unijeti masu!
              </div>

              <div class="form-group">
                <label for="struk">Struk</label>
                <input type="text" class="form-control" id="struk" name="struk"
                [(ngModel)]="osobniPodaci.struk"
                  #masa="ngModel"
                  (ngModelChange)="racunajWHRstrukbokovi()">
              </div>

              <div class="form-group">
                <label for="bokovi">Bokovi</label>
                <input type="text" class="form-control" id="bokovi" name="bokovi"
                [(ngModel)]="osobniPodaci.masa"
                  #masa="ngModel"
                  (ngModelChange)="racunajWHRstrukvisina()">
              </div>
            </div>

            <h2>Biokemijski i imunokemijski parametri:</h2>
            <div class="f1">
              <div class="form-group">
                <label for="glukoza">Glukoza</label>
                <input [(ngModel)]="modelkks.glukoza" type="text" class="form-control" id="glukoza" name="glukoza" required #glukoza="ngModel">
              </div>
              <div [hidden]="glukoza.valid || glukoza.pristine"
                class="alert alert-danger">
                Obavezno unijeti glukozu!
              </div>

              <div class="form-group">
                <label for="inzulin">Inzulin</label>
                <input [(ngModel)]="modelkks.inzulin" type="text" class="form-control" id="inzulin" name="inzulin">
              </div>

              <div class="form-group">
                <label for="ukupnikol">Ukupni kolesterol</label>
                <input [(ngModel)]="modelkks.ukupnikol" type="text" class="form-control" id="ukupnikol" name="ukupnikol" required #ukupnikol="ngModel">
              </div>
              <div [hidden]="ukupnikol.valid || ukupnikol.pristine"
                class="alert alert-danger">
                Obavezno unijeti ukupni kolesterol!
              </div>

              <div class="form-group">
                <label for="ldlkol">LDL kolesterol</label>
                <input [(ngModel)]="modelkks.ldlkol" type="text" class="form-control" id="ldlkol" name="ldlkol" required #ldlkol="ngModel">
              </div>
              <div [hidden]="ldlkol.valid || ldlkol.pristine"
                class="alert alert-danger">
                Obavezno unijeti LDL kolesterol!
              </div>

              <div class="form-group">
                <label for="hdlkol">HDL kolesterol</label>
                <input [(ngModel)]="modelkks.hdlkol" type="text" class="form-control" id="hdlkol" name="hdlkol" required #hdlkol="ngModel">
              </div>
              <div [hidden]="hdlkol.valid || hdlkol.pristine"
                class="alert alert-danger">
                Obavezno unijeti HDL kolesterol!
              </div>

              <div class="form-group">
                <label for="trigliceridi">Trigliceridi</label>
                <input [(ngModel)]="modelkks.trigliceridi" type="text" class="form-control" id="trigliceridi" name="trigliceridi" required #trigliceridi="ngModel">
              </div>
              <div [hidden]="trigliceridi.valid || trigliceridi.pristine"
                class="alert alert-danger">
                Obavezno unijeti trigliceride!
              </div>
            </div>

            <button type="button" class="btn btn-primary" (click)="ponistiUnos(); heroForm.reset()">Poništi</button>
            <button type="submit" class="btn btn-success" [disabled]="!heroForm.form.valid">Dalje</button>
          </form>
        </div>

        <div [hidden]="!submitted">
          <h2>Vaši rezultati:</h2>
            <div class="row">
              <div class="col-xs-4">Spol</div>
              <div class="col-xs-8  pull-left">{{ osobniPodaci.spol }}</div>
            </div>
            <div class="row">
              <div class="col-xs-4">Dob</div>
              <div class="col-xs-8  pull-left">{{ osobniPodaci.dob }}</div>
            </div>
            <div class="row">
              <div class="col-xs-4">Visina</div>
              <div class="col-xs-8  pull-left">{{ osobniPodaci.visina }}</div>
            </div>
            <div class="row">
              <div class="col-xs-4">Masa</div>
              <div class="col-xs-8  pull-left">{{ osobniPodaci.masa }}</div>
            </div>
            <div class="row">
              <div class="col-xs-4">Struk</div>
              <div class="col-xs-8  pull-left">{{ osobniPodaci.struk }}</div>
            </div>
            <div class="row">
              <div class="col-xs-4">Bokovi</div>
              <div class="col-xs-8  pull-left">{{ osobniPodaci.bokovi }}</div>
            </div>
            <div class="row">
              <div class="col-xs-4">Glukoza</div>
              <div class="col-xs-8  pull-left">{{ modelkks.glukoza }}</div>
            </div>
            <div class="row">
              <div class="col-xs-4">Inzulin</div>
              <div class="col-xs-8  pull-left">{{ modelkks.inzulin }}</div>
            </div>
            <div class="row">
              <div class="col-xs-4">Ukupni kolesterol</div>
              <div class="col-xs-8  pull-left">{{ modelkks.ukupnikol }}</div>
            </div>
            <div class="row">
              <div class="col-xs-4">LDL kolesterol</div>
              <div class="col-xs-8  pull-left">{{ modelkks.ldlkol }}</div>
            </div>
            <div class="row">
              <div class="col-xs-4">HDL kolesterol</div>
              <div class="col-xs-8  pull-left">{{ modelkks.hdlkol }}</div>
            </div>
            <div class="row">
              <div class="col-xs-4">Trigliceridi</div>
              <div class="col-xs-8  pull-left">{{ modelkks.trigliceridi }}</div>
            </div>

            <div class="row" *ngIf="bmi">
              <div class="col-xs-4">Vaš BMI</div>
              <div class="col-xs-8  pull-left">{{ bmi.toFixed(2) }}</div>
            </div>
            <div class="row" *ngIf="whr">
              <div class="col-xs-4">Vaš WHR</div>
              <div class="col-xs-8  pull-left">{{ whr.toFixed(2) }}</div>
            </div>
            <div class="row" *ngIf="whr2">
              <div class="col-xs-4">Vaš WHR2</div>
              <div class="col-xs-8  pull-left">{{ whr2.toFixed(2) }}</div>
            </div>
            <div class="row">
              <div class="col-xs-4">Homa IR</div>
              <div class="col-xs-8  pull-left">{{ racunajHomaIr().toFixed(2) }}</div>
            </div>
            <div class="row">
              <div class="col-xs-4">Homa Beta</div>
              <div class="col-xs-8  pull-left">{{ racunajHomaBeta().toFixed(2) }}</div>
            </div>
            <br>
            <button class="btn btn-primary" (click)="submitted=false">Natrag</button>
        </div>
      </form>
    </div>
  </div>
</div>